<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YTech's Quotes</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" type="image/x-image" href="img/favicon.ico">
    <script src="peopleQuotes.js"></script>
    <script>

        const siteExclusiveIdentifier = '[site exclusive]';
        const siteExclusivesOnly = false;

        const quoteIndex = 0;  //We have objects at home
        const nameIndex = 1;  

        const merged = quotes.concat(siteExclusiveQuotes.map(q => [q[quoteIndex] + siteExclusiveIdentifier, q[nameIndex]])); //I hate you
        console.log(merged);
        function quoteMe() {

            let quotes = siteExclusivesOnly ? merged.filter(q => q[quoteIndex].includes(siteExclusiveIdentifier)) : merged;

            let q = quotes[Math.floor(Math.random() * quotes.length)];
            let name = q[nameIndex];
            let quote = q[quoteIndex];

            if (quote.includes(siteExclusiveIdentifier)) {
                console.log("exclusive quote")
                quote = quote.replace(siteExclusiveIdentifier, '');
                document.getElementById("exclusive").style.visibility = "visible";
            } else {
                document.getElementById("exclusive").style.visibility = "hidden";
            }
            document.getElementById("quoteText").innerHTML = quote;
            document.getElementById('image').src = 'img/' + name + '.jpg';
        }

        // Wide People Passcode
        // Gone change this to the konami code
        let pass = '';
        const passcode = "wide";
        let audio = new Audio('audio/WIDE.wav');
        document.addEventListener('keydown', function (event) {
            pass += event.key;
            if (pass == passcode) {
                audio.play();
                document.getElementById("image").style.width = "80em";
                document.getElementById("image").style.transition = "width 2s ease";
                pass = ''
                // console.log("widness")
            }
            if (pass.length >= passcode.length) {
                pass = '';
                // console.log("nuh uh")
            }
        });
    </script>
</head>

<body>
    <div>
        <h1>Wise Words of York County School of Technology</h1>
    </div>
    <img src="img\ytech.jpg" alt="ytech" id="image">
    <div id="quoteBox">
        <h2 id="exclusive">website exclusive!</h2>
        <h2 id="quoteText">Click the button for some wisdom</h2>
    </div>
    <button onclick="quoteMe()">Quote <b>Us</b></button>
</body>

</html>